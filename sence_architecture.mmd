%% SENCE Framework: Socio-Economic Natural Compound Ecosystem Architecture
%% Mermaid Diagram for System Architecture and Data Flow

graph TB
    %% Input Data Sources
    subgraph "Data Sources"
        A1[Household Surveys<br/>📊 Socio-economic indicators<br/>Sample size: 1,200+ households]
        A2[Geospatial Data<br/>🛰️ Remote sensing imagery<br/>Landsat 8, Sentinel-2]
        A3[Environmental Indices<br/>🌍 NDVI, NDWI, LST<br/>Oil spill impact data]
        A4[Administrative Data<br/>🏛️ Government statistics<br/>Census, infrastructure]
    end

    %% Data Processing Layer
    subgraph "Data Processing & Integration"
        B1[Data Cleaning<br/>& Validation<br/>🔧 Quality control<br/>Missing value imputation]
        B2[Spatial Analysis<br/>🗺️ GIS processing<br/>Zonal statistics<br/>Buffer analysis]
        B3[Normalization<br/>📏 Min-Max scaling<br/>Z-score standardization<br/>Robust scaling]
        B4[Integration Engine<br/>⚙️ Multi-source fusion<br/>Temporal alignment<br/>Spatial matching]
    end

    %% SENCE Framework Core
    subgraph "SENCE Framework Core"
        direction TB
        
        subgraph "Environmental Domain"
            C1[Oil Spill Impact<br/>OSI Index<br/>📈 Severity: 12.7-24.9]
            C2[Gas Flaring<br/>🔥 Radiance data<br/>45.3-88.7 nW/cm²/sr]
            C3[Vegetation Health<br/>🌱 NDVI<br/>0.32-0.41]
            C4[Water Quality<br/>💧 NDWI<br/>0.16-0.23]
            C5[Temperature Anomaly<br/>🌡️ LST deviation<br/>2.1-4.1°C]
            C6[Mangrove Loss<br/>🌿 Deforestation rate<br/>28.4-41.7%]
        end
        
        subgraph "Economic Domain"
            D1[Unemployment Rate<br/>👥 29.4-36.8%<br/>Labor market stress]
            D2[Economic Diversity<br/>📊 HHI Index<br/>0.58-0.84 concentration]
            D3[Infrastructure Access<br/>🏗️ Water, electricity<br/>0.43-0.67 coverage]
            D4[Poverty Rate<br/>💰 Income below threshold<br/>38.2-45.6%]
            D5[Livelihood Dependence<br/>⛽ Oil sector reliance<br/>Mono-economy risk]
        end
        
        subgraph "Social Domain"
            E1[Healthcare Access<br/>🏥 Service availability<br/>0.38-0.54 index]
            E2[Education Access<br/>🎓 School enrollment<br/>0.41-0.61 coverage]
            E3[Crime Rate<br/>🚨 Security incidents<br/>24.7-31.2 per 1000]
            E4[Housing Quality<br/>🏠 Living conditions<br/>0.35-0.48 index]
            E5[Community Cohesion<br/>🤝 Social capital<br/>0.33-0.52 strength]
        end
    end

    %% Analysis Methods
    subgraph "Statistical Analysis"
        F1[Principal Component Analysis<br/>📊 Dimensionality reduction<br/>Variance explained: 68.4-71.2%]
        F2[Correlation Analysis<br/>🔗 Inter-domain relationships<br/>Pearson coefficients]
        F3[Cluster Analysis<br/>🎯 City typologies<br/>K-means, hierarchical]
        F4[Regression Modeling<br/>📈 CVI prediction<br/>Multiple linear regression]
    end

    %% Composite Vulnerability Index
    subgraph "CVI Calculation"
        G1[Domain Weighting<br/>⚖️ Environmental: 35%<br/>Economic: 33%<br/>Social: 32%]
        G2[Multiplicative Model<br/>✖️ Non-linear interactions<br/>Compound effects]
        G3[Normalization<br/>📐 0-1 scale<br/>City-level aggregation]
        G4[Validation<br/>✅ Cross-validation<br/>Sensitivity analysis]
    end

    %% Output Visualizations
    subgraph "Visualization & Results"
        H1[Radar Chart<br/>🕸️ Domain contributions<br/>Vulnerability signatures]
        H2[Thematic Maps<br/>🗺️ Spatial patterns<br/>Hotspot identification]
        H3[Statistical Reports<br/>📋 Performance metrics<br/>R² = 0.847, RMSE = 0.023]
        H4[City Typologies<br/>🏙️ Classification system<br/>Policy recommendations]
    end

    %% City Profiles
    subgraph "City Vulnerability Profiles"
        I1[Port Harcourt<br/>🏙️ "The City That Spins"<br/>CVI: 0.52<br/>Balanced vulnerability]
        I2[Warri<br/>🏭 "Compound Vortex"<br/>CVI: 0.61<br/>Industrial amplification]
        I3[Bonny<br/>🌊 "Environmental Center"<br/>CVI: 0.59<br/>Ecological dominance]
    end

    %% Data Flow Connections
    A1 --> B1
    A2 --> B2
    A3 --> B2
    A4 --> B1
    
    B1 --> B4
    B2 --> B4
    B3 --> B4
    
    B4 --> C1
    B4 --> C2
    B4 --> C3
    B4 --> C4
    B4 --> C5
    B4 --> C6
    
    B4 --> D1
    B4 --> D2
    B4 --> D3
    B4 --> D4
    B4 --> D5
    
    B4 --> E1
    B4 --> E2
    B4 --> E3
    B4 --> E4
    B4 --> E5
    
    C1 --> F1
    C2 --> F1
    C3 --> F1
    C4 --> F1
    C5 --> F1
    C6 --> F1
    
    D1 --> F2
    D2 --> F2
    D3 --> F2
    D4 --> F2
    D5 --> F2
    
    E1 --> F3
    E2 --> F3
    E3 --> F3
    E4 --> F3
    E5 --> F3
    
    F1 --> G1
    F2 --> G2
    F3 --> G3
    F4 --> G4
    
    G1 --> H1
    G2 --> H2
    G3 --> H3
    G4 --> H4
    
    H1 --> I1
    H1 --> I2
    H1 --> I3
    
    %% Feedback Loops (Compound Effects)
    G2 -.-> C1
    G2 -.-> D1
    G2 -.-> E1
    
    %% Styling
    classDef dataSource fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef processing fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef environmental fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef economic fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef social fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef analysis fill:#f1f8e9,stroke:#33691e,stroke-width:2px
    classDef cvi fill:#fff8e1,stroke:#f57f17,stroke-width:2px
    classDef output fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    classDef cities fill:#f9fbe7,stroke:#827717,stroke-width:2px
    
    class A1,A2,A3,A4 dataSource
    class B1,B2,B3,B4 processing
    class C1,C2,C3,C4,C5,C6 environmental
    class D1,D2,D3,D4,D5 economic
    class E1,E2,E3,E4,E5 social
    class F1,F2,F3,F4 analysis
    class G1,G2,G3,G4 cvi
    class H1,H2,H3,H4 output
    class I1,I2,I3 cities