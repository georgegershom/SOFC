@startuml Vulnerability_Assessment_Workflow
!theme vibrant
skinparam backgroundColor #FEFEFE
skinparam shadowing true
skinparam RoundCorner 15
skinparam ArrowThickness 2
skinparam ArrowColor #2E86AB
skinparam defaultFontName Arial
skinparam defaultFontSize 12
skinparam titleFontSize 18
skinparam titleFontStyle bold

title **SENCE Framework Vulnerability Assessment Workflow**\n**Niger Delta Petroleum Cities Analysis**\n

' Define colors
!define ENV_COLOR #2E86AB
!define ECON_COLOR #A23B72
!define SOC_COLOR #F18F01
!define GOV_COLOR #C73E1D
!define DATA_COLOR #4A5568
!define CVI_COLOR #1A365D
!define VALID_COLOR #065F46

' Actors and Systems
actor Researcher as R #LightBlue
database "Multi-Source\nData Repository" as DB #DATA_COLOR
participant "SENCE\nFramework" as SENCE #CVI_COLOR
participant "Statistical\nEngine" as STAT #VALID_COLOR
participant "Visualization\nSystem" as VIZ #ENV_COLOR
database "Results\nDatabase" as RES #ECON_COLOR

== **Phase 1: Data Collection & Integration** ==

R -> DB: Initiate data collection
activate DB #LightGray

group Environmental Data Collection
    DB -> DB: Satellite imagery (Landsat 8)
    note right: NDVI, NDWI, LST\n2019-2023 period
    DB -> DB: Oil spill records
    note right: NOSDRA database\nOSI calculation
    DB -> DB: Gas flaring data
    note right: VIIRS nighttime\nradiance values
end

group Socio-Economic Data Collection
    DB -> DB: Household surveys (n=1,247)
    note right: Stratified random\nsampling
    DB -> DB: Census data
    note right: NBS statistics\n2020-2023
    DB -> DB: Economic indicators
    note right: Unemployment, HHI,\npoverty rates
end

DB --> SENCE: Integrated dataset
deactivate DB

== **Phase 2: SENCE Framework Processing** ==

activate SENCE #LightBlue

SENCE -> SENCE: Data normalization
note right: Min-max scaling\n[0, 1] range

group Domain Analysis
    
    alt Environmental Subsystem
        SENCE -> SENCE: Calculate ENV indicators
        note left of SENCE: OSI = Σ(Volume × Impact × Duration)\nNDVI = (NIR - Red)/(NIR + Red)\nGas Flaring Index
    else Economic Subsystem
        SENCE -> SENCE: Calculate ECON indicators
        note left of SENCE: HHI = Σ(si²)\nLivelihood Dependence Index\nInfrastructure Access Score
    else Social Subsystem
        SENCE -> SENCE: Calculate SOC indicators
        note left of SENCE: Healthcare Access Index\nEducation Level Score\nCommunity Cohesion Metric
    else Governance Subsystem
        SENCE -> SENCE: Calculate GOV indicators
        note left of SENCE: Institutional Trust Index\nPolicy Effectiveness Score\nCorruption Perception
    end
end

SENCE -> STAT: Domain scores matrix
deactivate SENCE

== **Phase 3: Statistical Analysis** ==

activate STAT #LightGreen

STAT -> STAT: Principal Component Analysis
note right: Variance decomposition\n71.2% Environmental\n68.4% Socio-Economic

group Statistical Validation
    STAT -> STAT: Correlation analysis
    note left: Pearson correlation\nmatrix generation
    
    STAT -> STAT: ANOVA testing
    note left: F-statistic calculation\np-value determination
    
    STAT -> STAT: Cross-validation
    note left: k-fold (k=10)\nBootstrap resampling
    
    STAT -> STAT: Sensitivity analysis
    note left: Parameter perturbation\n±10% variation
end

STAT -> STAT: Calculate CVI
note right of STAT: **CVI Formula:**\nCVI = Σ(wi × Di)\nwhere:\nwi = domain weight\nDi = normalized domain score

group City-Specific CVI Calculation
    STAT -> STAT: Port Harcourt CVI
    note left: CVI = 0.52\nBalanced vulnerability
    
    STAT -> STAT: Warri CVI
    note left: CVI = 0.61\nHighest vulnerability
    
    STAT -> STAT: Bonny CVI
    note left: CVI = 0.59\nEnvironmental dominance
end

STAT --> VIZ: Validated results
deactivate STAT

== **Phase 4: Visualization Generation** ==

activate VIZ #LightCoral

VIZ -> VIZ: Generate radar chart
note right: Matplotlib/Plotly\nInterpolated curves\nSmooth rendering

group Visualization Components
    VIZ -> VIZ: Domain polygons
    note left: 6-axis representation\nNormalized scales
    
    VIZ -> VIZ: Vulnerability zones
    note left: Color-coded regions\nGreen/Yellow/Orange/Red
    
    VIZ -> VIZ: Statistical overlays
    note left: PCA variance plots\nCorrelation heatmaps
    
    VIZ -> VIZ: Interactive elements
    note left: Hover tooltips\nZoom capabilities
end

VIZ --> RES: Store visualizations
VIZ --> R: Display results
deactivate VIZ

== **Phase 5: Results & Validation** ==

activate RES #LightYellow

RES -> RES: Model validation metrics
note right: R² = 0.947\nRMSE = 0.031\nMAE = 0.023

group Validation Outputs
    RES -> RES: Predicted vs Observed
    note left: Scatter plot generation\nRegression line fitting
    
    RES -> RES: Residual analysis
    note left: Normal distribution check\nHomoscedasticity test
    
    RES -> RES: Monte Carlo simulation
    note left: 1000 iterations\nConfidence intervals
end

RES --> R: Final report
deactivate RES

== **Phase 6: Policy Recommendations** ==

R -> R: Interpret results
note right of R: **Key Findings:**\n• Warri: Compound vulnerability\n• Bonny: Environmental crisis\n• Port Harcourt: Urban disparities

group Policy Interventions
    R -> R: Environmental remediation
    note left: Oil spill cleanup\nGas flaring reduction\nMangrove restoration
    
    R -> R: Economic diversification
    note left: Alternative livelihoods\nSME development\nInfrastructure investment
    
    R -> R: Social programs
    note left: Healthcare expansion\nEducation initiatives\nCommunity engagement
    
    R -> R: Governance reform
    note left: Institutional strengthening\nTransparency measures\nRegulatory enforcement
end

' Feedback loop
R --> SENCE: Policy feedback
note bottom of SENCE: Iterative improvement\nAdaptive management

' Add legend
legend right
    |= Color |= Component |
    |<ENV_COLOR:ENV_COLOR> | Environmental |
    |<ECON_COLOR:ECON_COLOR> | Economic |
    |<SOC_COLOR:SOC_COLOR> | Social |
    |<GOV_COLOR:GOV_COLOR> | Governance |
    |<CVI_COLOR:CVI_COLOR> | CVI Core |
    |<VALID_COLOR:VALID_COLOR> | Validation |
endlegend

@enduml